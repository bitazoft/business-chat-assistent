2025-07-06 08:21:51,118 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:21:51,216 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:21:51,469 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:21:51,479 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:22:16,465 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:22:16,480 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:22:16,502 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:22:16,509 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:22:21,192 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:22:21,192 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:22:21,192 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:22:21,193 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:22:21,193 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:22:21,193 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:22:21,193 - agent.agent - INFO - [agent.py:431] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:22:21,193 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:22:21,194 - agent.agent - INFO - [agent.py:561] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 08:22:21,251 - agent.agent - INFO - [agent.py:589] - [Function Agent] Function agent created successfully
2025-07-06 08:22:21,279 - agent.agent - INFO - [agent.py:314] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:22:21,280 - agent.agent - INFO - [agent.py:424] - [Response Agent] Response agent created successfully
2025-07-06 08:22:21,280 - agent.agent - INFO - [agent.py:439] - [Multi-Agent System] All agents created successfully
2025-07-06 08:22:21,281 - agent.agent - INFO - [agent.py:453] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:22:21,281 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:22:21,281 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:22:21,281 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:22:21,281 - agent.agent - INFO - [agent.py:459] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:22:21,281 - agent.agent - INFO - [agent.py:464] - [Multi-Agent System] Processing user input: hi
2025-07-06 08:22:21,281 - agent.agent - INFO - [agent.py:467] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:22:21,282 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:22:21,282 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:22:25,954 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:22:31,592 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's input is a simple greeting ('hi') without any mention of products, orders, or user management. This suggests the intent is likely a general inquiry or the start of a conversation."
}
```
2025-07-06 08:22:31,592 - agent.agent - INFO - [agent.py:478] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 08:22:31,592 - agent.agent - INFO - [agent.py:499] - [Multi-Agent System] Step 3: Executing function
2025-07-06 08:22:31,595 - agent.agent - ERROR - [agent.py:554] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:22:31,596 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 500, in process_input
    function_result = function_agent.invoke({"input": user_input, "intent": intent})
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:22:31,598 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:26:04,672 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:26:04,687 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:26:04,706 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:26:04,712 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:26:05,083 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:26:05,083 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:26:05,083 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:26:05,083 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:26:05,083 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:26:05,083 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:26:05,084 - agent.agent - INFO - [agent.py:431] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:26:05,084 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:26:05,085 - agent.agent - INFO - [agent.py:561] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 08:26:05,130 - agent.agent - INFO - [agent.py:589] - [Function Agent] Function agent created successfully
2025-07-06 08:26:05,155 - agent.agent - INFO - [agent.py:314] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:26:05,155 - agent.agent - INFO - [agent.py:424] - [Response Agent] Response agent created successfully
2025-07-06 08:26:05,156 - agent.agent - INFO - [agent.py:439] - [Multi-Agent System] All agents created successfully
2025-07-06 08:26:05,156 - agent.agent - INFO - [agent.py:453] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:26:05,156 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:26:05,157 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:26:05,157 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:26:05,157 - agent.agent - INFO - [agent.py:459] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:26:05,157 - agent.agent - INFO - [agent.py:464] - [Multi-Agent System] Processing user input: hi
2025-07-06 08:26:05,158 - agent.agent - INFO - [agent.py:467] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:26:05,158 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:26:05,158 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:26:09,709 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:26:15,129 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's input is a simple greeting ('hi') without any specific mention of products, orders, or user management. This suggests the intent is likely a general inquiry or the start of a conversation."
}
```
2025-07-06 08:26:15,129 - agent.agent - INFO - [agent.py:478] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 08:26:15,130 - agent.agent - INFO - [agent.py:499] - [Multi-Agent System] Step 3: Executing function
2025-07-06 08:26:15,133 - agent.agent - ERROR - [agent.py:554] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:26:15,133 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 500, in process_input
    function_result = function_agent.invoke({"input": user_input, "intent": intent})
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:26:15,136 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:29:20,851 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:29:20,864 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:29:20,882 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:29:20,889 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:29:26,777 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:29:26,777 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:29:26,777 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:29:26,777 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:29:26,778 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:29:26,778 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:29:26,778 - agent.agent - INFO - [agent.py:432] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:29:26,778 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:29:26,779 - agent.agent - INFO - [agent.py:562] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 08:29:26,828 - agent.agent - INFO - [agent.py:590] - [Function Agent] Function agent created successfully
2025-07-06 08:29:26,855 - agent.agent - INFO - [agent.py:315] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:29:26,855 - agent.agent - INFO - [agent.py:425] - [Response Agent] Response agent created successfully
2025-07-06 08:29:26,856 - agent.agent - INFO - [agent.py:440] - [Multi-Agent System] All agents created successfully
2025-07-06 08:29:26,856 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:29:26,856 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:29:26,856 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:29:26,856 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:29:26,857 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:29:26,857 - agent.agent - INFO - [agent.py:465] - [Multi-Agent System] Processing user input: I want buy watch
2025-07-06 08:29:26,857 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:29:26,857 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:29:26,857 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:29:31,390 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:29:37,413 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "place_order",
  "confidence": 0.9,
  "reasoning": "The user explicitly mentions wanting to purchase a watch, which directly aligns with the 'place_order' intent. The presence of the product entity 'watch' and the context of purchasing further supports this classification."
}
```
2025-07-06 08:29:37,413 - agent.agent - INFO - [agent.py:479] - [Multi-Agent System] Detected intent: place_order
2025-07-06 08:29:37,414 - agent.agent - INFO - [agent.py:483] - [Multi-Agent System] Step 2: Managing user for place_order intent
2025-07-06 08:29:37,421 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"action"\'}.  Expected: [\'"action"\', \'agent_scratchpad\', \'chat_history\', \'input\'] Received: [\'input\', \'chat_history\', \'intermediate_steps\', \'agent_scratchpad\']\nNote: if you intended {"action"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"action"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:29:37,422 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 484, in process_input
    user_check = user_management_agent.invoke({"input": user_input, "chat_history": chat_history})
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain\chains\base.py", line 167, in invoke
    raise e
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain\chains\base.py", line 157, in invoke
    self._call(inputs, run_manager=run_manager)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain\agents\agent.py", line 1620, in _call
    next_step_output = self._take_next_step(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain\agents\agent.py", line 1326, in _take_next_step
    [
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain\agents\agent.py", line 1326, in <listcomp>
    [
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain\agents\agent.py", line 1354, in _iter_next_step
    output = self._action_agent.plan(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain\agents\agent.py", line 577, in plan
    for chunk in self.runnable.stream(inputs, config={"callbacks": callbacks}):
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3438, in stream
    yield from self.transform(iter([input]), config, **kwargs)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3424, in transform
    yield from self._transform_stream_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 2215, in _transform_stream_with_config
    chunk: Output = context.run(next, iterator)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3386, in _transform
    yield from final_pipeline
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1429, in transform
    for ichunk in input:
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 5647, in transform
    yield from self.bound.transform(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1429, in transform
    for ichunk in input:
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1447, in transform
    yield from self.stream(final, config, **kwargs)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1014, in stream
    yield self.invoke(input, config, **kwargs)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"action"\'}.  Expected: [\'"action"\', \'agent_scratchpad\', \'chat_history\', \'input\'] Received: [\'input\', \'chat_history\', \'intermediate_steps\', \'agent_scratchpad\']\nNote: if you intended {"action"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"action"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:29:37,425 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:30:18,704 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:30:18,704 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:30:18,705 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:30:18,705 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:30:18,705 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:30:18,705 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:30:18,705 - agent.agent - INFO - [agent.py:432] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:30:18,705 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:30:18,706 - agent.agent - INFO - [agent.py:562] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 08:30:18,753 - agent.agent - INFO - [agent.py:590] - [Function Agent] Function agent created successfully
2025-07-06 08:30:18,775 - agent.agent - INFO - [agent.py:315] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:30:18,776 - agent.agent - INFO - [agent.py:425] - [Response Agent] Response agent created successfully
2025-07-06 08:30:18,777 - agent.agent - INFO - [agent.py:440] - [Multi-Agent System] All agents created successfully
2025-07-06 08:30:18,777 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:30:18,777 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:30:18,778 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:30:18,778 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:30:18,778 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:30:18,779 - agent.agent - INFO - [agent.py:465] - [Multi-Agent System] Processing user input: hi
2025-07-06 08:30:18,779 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:30:18,779 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:30:18,779 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:30:24,033 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:30:29,463 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user greeted the system without providing specific details about products, orders, or user information, which aligns with a general inquiry intent. The lack of specific entities or context suggests the user is initiating a conversation rather than seeking specific information or action."
}
```
2025-07-06 08:30:29,464 - agent.agent - INFO - [agent.py:479] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 08:30:29,464 - agent.agent - INFO - [agent.py:500] - [Multi-Agent System] Step 3: Executing function
2025-07-06 08:30:29,466 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:30:29,467 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 501, in process_input
    function_result = function_agent.invoke({"input": user_input, "intent": intent})
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:30:29,468 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:30:41,735 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:30:41,751 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:30:41,772 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:30:41,780 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:30:46,281 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:30:46,281 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:30:46,281 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:30:46,282 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:30:46,282 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:30:46,282 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:30:46,282 - agent.agent - INFO - [agent.py:432] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:30:46,282 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:30:46,283 - agent.agent - INFO - [agent.py:562] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 08:30:46,329 - agent.agent - INFO - [agent.py:590] - [Function Agent] Function agent created successfully
2025-07-06 08:30:46,354 - agent.agent - INFO - [agent.py:315] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:30:46,354 - agent.agent - INFO - [agent.py:425] - [Response Agent] Response agent created successfully
2025-07-06 08:30:46,354 - agent.agent - INFO - [agent.py:440] - [Multi-Agent System] All agents created successfully
2025-07-06 08:30:46,355 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:30:46,355 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:30:46,355 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:30:46,355 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:30:46,355 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:30:46,356 - agent.agent - INFO - [agent.py:465] - [Multi-Agent System] Processing user input: hi
2025-07-06 08:30:46,356 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:30:46,356 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:30:46,356 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:30:52,155 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:30:57,776 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user greeted the system without mentioning any specific products, orders, or user information, which suggests a general inquiry or casual interaction rather than a specific intent related to products, orders, or user management."
}
```
2025-07-06 08:30:57,777 - agent.agent - INFO - [agent.py:479] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 08:30:57,777 - agent.agent - INFO - [agent.py:500] - [Multi-Agent System] Step 3: Executing function
2025-07-06 08:30:57,780 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:30:57,781 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 501, in process_input
    function_result = function_agent.invoke({"input": user_input, "intent": intent})
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:30:57,784 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:31:33,750 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:31:33,764 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:31:33,784 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:31:33,791 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:31:34,150 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:31:34,151 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:31:34,151 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:31:34,151 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:31:34,152 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:31:34,152 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:31:34,152 - agent.agent - INFO - [agent.py:432] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:31:34,152 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:31:34,153 - agent.agent - INFO - [agent.py:562] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 08:31:34,196 - agent.agent - INFO - [agent.py:590] - [Function Agent] Function agent created successfully
2025-07-06 08:31:34,221 - agent.agent - INFO - [agent.py:315] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:31:34,221 - agent.agent - INFO - [agent.py:425] - [Response Agent] Response agent created successfully
2025-07-06 08:31:34,221 - agent.agent - INFO - [agent.py:440] - [Multi-Agent System] All agents created successfully
2025-07-06 08:31:34,222 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:31:34,222 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:31:34,222 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:31:34,222 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:31:34,222 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:31:34,223 - agent.agent - INFO - [agent.py:465] - [Multi-Agent System] Processing user input: hi
2025-07-06 08:31:34,223 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:31:34,223 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:31:34,223 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:31:39,706 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:31:44,814 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's greeting 'hi' without any specific details about products, orders, or user information suggests a general inquiry or the start of a conversation. There are no entities or context indicating a more specific intent."
}
```
2025-07-06 08:31:44,814 - agent.agent - INFO - [agent.py:479] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 08:31:44,814 - agent.agent - INFO - [agent.py:500] - [Multi-Agent System] Step 3: Executing function
2025-07-06 08:31:44,818 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:31:44,819 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 501, in process_input
    function_result = function_agent.invoke({"input": user_input, "intent": intent})
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:31:44,821 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:35:10,980 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:35:10,994 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:35:11,013 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:35:11,020 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:35:11,366 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:35:11,366 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:35:11,366 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:35:11,366 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:35:11,367 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:35:11,367 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:35:11,367 - agent.agent - INFO - [agent.py:432] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:35:11,368 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:35:11,368 - agent.agent - INFO - [agent.py:562] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 08:35:11,413 - agent.agent - INFO - [agent.py:590] - [Function Agent] Function agent created successfully
2025-07-06 08:35:11,436 - agent.agent - INFO - [agent.py:315] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:35:11,437 - agent.agent - INFO - [agent.py:425] - [Response Agent] Response agent created successfully
2025-07-06 08:35:11,437 - agent.agent - INFO - [agent.py:440] - [Multi-Agent System] All agents created successfully
2025-07-06 08:35:11,437 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:35:11,437 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:35:11,438 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:35:11,438 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:35:11,438 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:35:11,438 - agent.agent - INFO - [agent.py:465] - [Multi-Agent System] Processing user input: hi
2025-07-06 08:35:11,438 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:35:11,439 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:35:11,439 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:35:17,185 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:35:22,557 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's greeting 'hi' does not provide any specific information related to products, orders, or user details, making it most likely a general inquiry or greeting."
}
```
2025-07-06 08:35:22,557 - agent.agent - INFO - [agent.py:479] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 08:35:22,557 - agent.agent - INFO - [agent.py:500] - [Multi-Agent System] Step 3: Executing function
2025-07-06 08:35:22,559 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:35:22,561 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 501, in process_input
    function_result = function_agent.invoke({"input": user_input, "intent": intent})
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:35:22,563 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:38:29,873 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:38:29,886 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:38:29,906 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:38:29,915 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:38:31,255 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:38:31,256 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:38:31,256 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:38:31,256 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:38:31,257 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:38:31,257 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:38:31,257 - agent.agent - INFO - [agent.py:432] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:38:31,258 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:38:31,327 - agent.agent - INFO - [agent.py:315] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:38:31,329 - agent.agent - INFO - [agent.py:425] - [Response Agent] Response agent created successfully
2025-07-06 08:38:31,329 - agent.agent - INFO - [agent.py:440] - [Multi-Agent System] All agents created successfully
2025-07-06 08:38:31,329 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:38:31,330 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:38:31,330 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:38:31,330 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:38:31,331 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:38:31,331 - agent.agent - INFO - [agent.py:465] - [Multi-Agent System] Processing user input: hi
2025-07-06 08:38:31,331 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:38:31,331 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:38:31,331 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:38:36,256 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:38:41,730 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's greeting 'hi' does not indicate a specific intent related to products, orders, or user management. It is most likely a general inquiry or the start of a conversation."
}
```
2025-07-06 08:38:41,731 - agent.agent - INFO - [agent.py:479] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 08:38:41,731 - agent.agent - INFO - [agent.py:500] - [Multi-Agent System] Step 3: Executing function
2025-07-06 08:38:41,734 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:38:41,735 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 501, in process_input
    function_result = function_agent.invoke({"input": user_input, "intent": intent})
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'input\', \'intent\'] Received: [\'input\', \'intent\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:38:41,738 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:38:55,409 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:38:55,423 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:38:55,441 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:38:55,449 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:38:56,099 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:38:56,100 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:38:56,100 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:38:56,100 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:38:56,100 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:38:56,100 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:38:56,100 - agent.agent - INFO - [agent.py:432] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:38:56,100 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:38:56,172 - agent.agent - INFO - [agent.py:315] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 08:38:56,173 - agent.agent - INFO - [agent.py:425] - [Response Agent] Response agent created successfully
2025-07-06 08:38:56,173 - agent.agent - INFO - [agent.py:440] - [Multi-Agent System] All agents created successfully
2025-07-06 08:38:56,173 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 08:38:56,173 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 08:38:56,174 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 08:38:56,174 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 08:38:56,175 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 08:38:56,175 - agent.agent - INFO - [agent.py:465] - [Multi-Agent System] Processing user input: hi
2025-07-06 08:38:56,175 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 08:38:56,175 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 08:38:56,175 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 08:39:04,164 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 08:39:10,019 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's greeting 'hi' does not indicate a specific intent related to products, orders, or user management. It is most likely a general inquiry or the start of a conversation."
}
```
2025-07-06 08:39:10,020 - agent.agent - INFO - [agent.py:479] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 08:39:10,020 - agent.agent - INFO - [agent.py:500] - [Multi-Agent System] Step 3: Executing function
2025-07-06 08:39:14,707 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 08:39:14,707 - agent.agent - WARNING - [agent.py:530] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 08:39:14,708 - agent.agent - INFO - [agent.py:533] - [Multi-Agent System] Step 4: Logging query
2025-07-06 08:39:14,968 - agent.agent - INFO - [agent.py:536] - [Multi-Agent System] Query logged successfully
2025-07-06 08:39:14,969 - agent.agent - INFO - [agent.py:541] - [Multi-Agent System] Step 5: Generating response
2025-07-06 08:39:14,969 - agent.agent - INFO - [agent.py:378] - [Response Agent] Processing response for seller_id: 1
2025-07-06 08:39:14,969 - agent.agent - INFO - [agent.py:383] - [Response Agent] Step 1: Determining response strategy
2025-07-06 08:39:14,972 - agent.agent - ERROR - [agent.py:422] - [Response Agent] Error in response generation: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:39:14,974 - agent.agent - ERROR - [agent.py:555] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:39:14,974 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 542, in process_input
    response = response_agent({
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 384, in response_chain
    strategy_result = (
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 08:39:14,976 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 08:55:49,103 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:55:49,118 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:55:49,139 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:55:49,146 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:59:04,561 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 08:59:04,575 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 08:59:04,595 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 08:59:04,603 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 08:59:07,457 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 08:59:07,458 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 08:59:07,458 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 08:59:07,458 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 08:59:07,458 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 08:59:07,459 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 08:59:07,459 - agent.agent - INFO - [agent.py:436] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 08:59:07,459 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 08:59:07,505 - agent.agent - ERROR - [agent.py:460] - [Multi-Agent System] Error creating agents: can only concatenate str (not "RunnableSequence") to str
2025-07-06 08:59:07,505 - services.chat - ERROR - [chat.py:94] - [Chat API] Unexpected error: can only concatenate str (not "RunnableSequence") to str
2025-07-06 08:59:07,505 - services.chat - ERROR - [chat.py:95] - [Chat API] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\services\chat.py", line 67, in chat
    agent_system = create_multi_agent_system(request.seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 440, in create_multi_agent_system
    function_agent = create_function_agent(seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 291, in create_function_agent
    logger.info("function chain output :"+chain)
TypeError: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:02:38,969 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 09:02:38,983 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 09:02:39,001 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 09:02:39,009 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 09:02:40,394 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 09:02:40,394 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 09:02:40,395 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 09:02:40,395 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 09:02:40,395 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 09:02:40,395 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 09:02:40,396 - agent.agent - INFO - [agent.py:436] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 09:02:40,396 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 09:02:40,440 - agent.agent - ERROR - [agent.py:460] - [Multi-Agent System] Error creating agents: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:02:40,440 - services.chat - ERROR - [chat.py:94] - [Chat API] Unexpected error: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:02:40,440 - services.chat - ERROR - [chat.py:95] - [Chat API] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\services\chat.py", line 67, in chat
    agent_system = create_multi_agent_system(request.seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 440, in create_multi_agent_system
    function_agent = create_function_agent(seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 291, in create_function_agent
    logger.info("function chain output :"+chain)
TypeError: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:03:51,769 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 09:03:51,769 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 09:03:51,769 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 09:03:51,769 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 09:03:51,770 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 09:03:51,770 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 09:03:51,770 - agent.agent - INFO - [agent.py:436] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 09:03:51,770 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 09:03:51,816 - agent.agent - ERROR - [agent.py:460] - [Multi-Agent System] Error creating agents: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:03:51,816 - services.chat - ERROR - [chat.py:94] - [Chat API] Unexpected error: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:03:51,818 - services.chat - ERROR - [chat.py:95] - [Chat API] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\services\chat.py", line 67, in chat
    agent_system = create_multi_agent_system(request.seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 440, in create_multi_agent_system
    function_agent = create_function_agent(seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 291, in create_function_agent
    logger.info("function chain output :"+chain)
TypeError: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:04:08,563 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 09:04:08,578 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 09:04:08,596 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 09:04:08,604 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 09:04:09,010 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 09:04:09,010 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 09:04:09,010 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 09:04:09,011 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 09:04:09,011 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 09:04:09,011 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 09:04:09,011 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 09:04:09,011 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 09:04:09,058 - agent.agent - ERROR - [agent.py:457] - [Multi-Agent System] Error creating agents: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:04:09,059 - services.chat - ERROR - [chat.py:94] - [Chat API] Unexpected error: can only concatenate str (not "RunnableSequence") to str
2025-07-06 09:04:09,059 - services.chat - ERROR - [chat.py:95] - [Chat API] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\services\chat.py", line 67, in chat
    agent_system = create_multi_agent_system(request.seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 437, in create_multi_agent_system
    function_agent = create_function_agent(seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 288, in create_function_agent
    logger.info("function chain output :"+chain)
TypeError: can only concatenate str (not "RunnableSequence") to str
2025-07-06 12:01:36,203 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 12:01:36,247 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 12:01:36,494 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 12:01:36,503 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 12:01:49,371 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 12:01:49,372 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 12:01:49,372 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 12:01:49,372 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 12:01:49,372 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 12:01:49,373 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 12:01:49,373 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 12:01:49,373 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 12:01:49,419 - agent.agent - ERROR - [agent.py:457] - [Multi-Agent System] Error creating agents: can only concatenate str (not "RunnableSequence") to str
2025-07-06 12:01:49,420 - services.chat - ERROR - [chat.py:94] - [Chat API] Unexpected error: can only concatenate str (not "RunnableSequence") to str
2025-07-06 12:01:49,420 - services.chat - ERROR - [chat.py:95] - [Chat API] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\services\chat.py", line 67, in chat
    agent_system = create_multi_agent_system(request.seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 437, in create_multi_agent_system
    function_agent = create_function_agent(seller_id, user_id)
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 288, in create_function_agent
    logger.info("function chain output :"+chain)
TypeError: can only concatenate str (not "RunnableSequence") to str
2025-07-06 12:02:48,817 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 12:02:48,832 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 12:02:48,852 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 12:02:48,860 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 12:03:03,916 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 12:03:03,929 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 12:03:03,948 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 12:03:03,955 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 12:03:04,602 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 12:03:04,603 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 12:03:04,603 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 12:03:04,603 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 12:03:04,603 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 12:03:04,604 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 12:03:04,604 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 12:03:04,604 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 12:03:04,650 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 12:03:04,676 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 12:03:04,677 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response agent created successfully
2025-07-06 12:03:04,677 - agent.agent - INFO - [agent.py:441] - [Multi-Agent System] All agents created successfully
2025-07-06 12:03:04,677 - agent.agent - INFO - [agent.py:455] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 12:03:04,678 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 12:03:04,678 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 12:03:04,678 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 12:03:04,678 - agent.agent - INFO - [agent.py:461] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 12:03:04,678 - agent.agent - INFO - [agent.py:466] - [Multi-Agent System] Processing user input: hi
2025-07-06 12:03:04,679 - agent.agent - INFO - [agent.py:469] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 12:03:04,679 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 12:03:04,679 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 12:03:09,967 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 12:03:16,095 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user greeted the system without mentioning any specific products, orders, or user information. This suggests a general inquiry or the start of a conversation rather than a specific request related to products, orders, or user management."
}
```
2025-07-06 12:03:16,096 - agent.agent - INFO - [agent.py:480] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 12:03:16,096 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Step 3: Executing function
2025-07-06 12:03:21,910 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 12:03:21,911 - agent.agent - WARNING - [agent.py:531] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 12:03:21,911 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Step 4: Logging query
2025-07-06 12:03:21,995 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Query logged successfully
2025-07-06 12:03:21,996 - agent.agent - INFO - [agent.py:542] - [Multi-Agent System] Step 5: Generating response
2025-07-06 12:03:21,996 - agent.agent - INFO - [agent.py:379] - [Response Agent] Processing response for seller_id: 1
2025-07-06 12:03:21,996 - agent.agent - INFO - [agent.py:384] - [Response Agent] Step 1: Determining response strategy
2025-07-06 12:03:21,999 - agent.agent - ERROR - [agent.py:423] - [Response Agent] Error in response generation: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 12:03:21,999 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 12:03:22,000 - agent.agent - ERROR - [agent.py:557] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 543, in process_input
    response = response_agent({
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 385, in response_chain
    strategy_result = (
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 12:03:22,044 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 12:08:23,514 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 12:08:23,528 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 12:08:23,555 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 12:08:23,566 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 12:08:24,442 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 12:08:24,442 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 12:08:24,442 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 12:08:24,443 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 12:08:24,443 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 12:08:24,443 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 12:08:24,443 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 12:08:24,444 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 12:08:24,493 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 12:08:24,520 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 12:08:24,520 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response agent created successfully
2025-07-06 12:08:24,521 - agent.agent - INFO - [agent.py:441] - [Multi-Agent System] All agents created successfully
2025-07-06 12:08:24,521 - agent.agent - INFO - [agent.py:455] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 12:08:24,521 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 12:08:24,521 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 12:08:24,521 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 12:08:24,522 - agent.agent - INFO - [agent.py:461] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 12:08:24,522 - agent.agent - INFO - [agent.py:466] - [Multi-Agent System] Processing user input: hi
2025-07-06 12:08:24,522 - agent.agent - INFO - [agent.py:469] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 12:08:24,522 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 12:08:24,522 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 12:08:29,696 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 12:08:36,170 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's input is a simple greeting ('hi') without any specific mention of products, orders, or user management. This suggests the intent is likely a general inquiry or the start of a conversation."
}
```
2025-07-06 12:08:36,170 - agent.agent - INFO - [agent.py:480] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 12:08:36,170 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Step 3: Executing function
2025-07-06 12:08:41,587 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 12:08:41,587 - agent.agent - WARNING - [agent.py:531] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 12:08:41,588 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Step 4: Logging query
2025-07-06 12:08:41,753 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Query logged successfully
2025-07-06 12:08:41,754 - agent.agent - INFO - [agent.py:542] - [Multi-Agent System] Step 5: Generating response
2025-07-06 12:08:41,754 - agent.agent - INFO - [agent.py:379] - [Response Agent] Processing response for seller_id: 1
2025-07-06 12:08:41,754 - agent.agent - INFO - [agent.py:384] - [Response Agent] Step 1: Determining response strategy
2025-07-06 12:08:41,758 - agent.agent - ERROR - [agent.py:423] - [Response Agent] Error in response generation: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 12:08:41,758 - agent.agent - ERROR - [agent.py:556] - [Multi-Agent System] Error processing request: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 12:08:41,759 - agent.agent - ERROR - [agent.py:557] - [Multi-Agent System] Exception details:
Traceback (most recent call last):
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 543, in process_input
    response = response_agent({
  File "D:\Project\business-chat-assistent\chatbot\agent\agent.py", line 385, in response_chain
    strategy_result = (
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 216, in invoke
    return self._call_with_config(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 189, in _format_prompt_with_error_handling
    _inner_input = self._validate_input(inner_input)
  File "C:\Users\Nipul\AppData\Local\Programs\Python\Python39\lib\site-packages\langchain_core\prompts\base.py", line 183, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'"strategy"\'}.  Expected: [\'"strategy"\', \'function_output\', \'input\', \'intent\'] Received: [\'input\', \'intent\', \'function_output\']\nNote: if you intended {"strategy"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"strategy"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 12:08:41,761 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 12:09:44,247 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 12:09:44,263 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 12:09:44,282 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 12:09:44,289 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 12:09:45,112 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 12:09:45,112 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 12:09:45,112 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 12:09:45,112 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 12:09:45,113 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 12:09:45,113 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 12:09:45,113 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 12:09:45,113 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 12:09:45,163 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 12:09:45,188 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 12:09:45,188 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response agent created successfully
2025-07-06 12:09:45,189 - agent.agent - INFO - [agent.py:441] - [Multi-Agent System] All agents created successfully
2025-07-06 12:09:45,189 - agent.agent - INFO - [agent.py:455] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 12:09:45,189 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 12:09:45,189 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 12:09:45,190 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 12:09:45,190 - agent.agent - INFO - [agent.py:461] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 12:09:45,190 - agent.agent - INFO - [agent.py:466] - [Multi-Agent System] Processing user input: hi
2025-07-06 12:09:45,190 - agent.agent - INFO - [agent.py:469] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 12:09:45,190 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 12:09:45,190 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 12:09:50,530 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 12:09:56,949 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's greeting 'hi' does not provide any specific information about products, orders, or user management, making 'general_inquiry' the most likely intent. The confidence is high as greetings typically initiate general conversations."
}
```
2025-07-06 12:09:56,949 - agent.agent - INFO - [agent.py:480] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 12:09:56,950 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Step 3: Executing function
2025-07-06 12:10:02,961 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 12:10:02,962 - agent.agent - WARNING - [agent.py:531] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 12:10:02,962 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Step 4: Logging query
2025-07-06 12:10:03,013 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Query logged successfully
2025-07-06 12:10:03,013 - agent.agent - INFO - [agent.py:542] - [Multi-Agent System] Step 5: Generating response
2025-07-06 12:10:03,013 - agent.agent - INFO - [agent.py:379] - [Response Agent] Processing response for seller_id: 1
2025-07-06 12:10:03,013 - agent.agent - INFO - [agent.py:384] - [Response Agent] Step 1: Determining response strategy
2025-07-06 12:10:08,356 - agent.agent - INFO - [agent.py:398] - [Response Agent] Step 2: Generating response
2025-07-06 12:10:16,116 - agent.agent - INFO - [agent.py:418] - [Response Agent] Response generation completed
2025-07-06 12:10:16,117 - agent.agent - INFO - [agent.py:549] - [Multi-Agent System] Processing completed successfully
2025-07-06 12:10:16,117 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 12:11:07,451 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 12:11:07,451 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 12:11:07,451 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 12:11:07,452 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 12:11:07,452 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 12:11:07,452 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 12:11:07,452 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 12:11:07,452 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 12:11:07,502 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 12:11:07,526 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 12:11:07,526 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response agent created successfully
2025-07-06 12:11:07,527 - agent.agent - INFO - [agent.py:441] - [Multi-Agent System] All agents created successfully
2025-07-06 12:11:07,527 - agent.agent - INFO - [agent.py:455] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 12:11:07,527 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 12:11:07,527 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 12:11:07,527 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 12:11:07,528 - agent.agent - INFO - [agent.py:461] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 12:11:07,528 - agent.agent - INFO - [agent.py:466] - [Multi-Agent System] Processing user input: what are the products do you have?
2025-07-06 12:11:07,528 - agent.agent - INFO - [agent.py:469] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 12:11:07,528 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 12:11:07,529 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 12:11:13,185 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 12:11:18,876 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is asking about the list of products available, which directly aligns with the 'product_info' intent. The context also supports this by mentioning the inquiry about products for a specific seller ID."
}
```
2025-07-06 12:11:18,877 - agent.agent - INFO - [agent.py:480] - [Multi-Agent System] Detected intent: product_info
2025-07-06 12:11:18,877 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Step 3: Executing function
2025-07-06 12:11:24,830 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 12:11:24,831 - agent.agent - WARNING - [agent.py:531] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 12:11:24,831 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Step 4: Logging query
2025-07-06 12:11:24,834 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Query logged successfully
2025-07-06 12:11:24,834 - agent.agent - INFO - [agent.py:542] - [Multi-Agent System] Step 5: Generating response
2025-07-06 12:11:24,835 - agent.agent - INFO - [agent.py:379] - [Response Agent] Processing response for seller_id: 1
2025-07-06 12:11:24,835 - agent.agent - INFO - [agent.py:384] - [Response Agent] Step 1: Determining response strategy
2025-07-06 12:11:29,850 - agent.agent - INFO - [agent.py:398] - [Response Agent] Step 2: Generating response
2025-07-06 12:11:40,409 - agent.agent - INFO - [agent.py:418] - [Response Agent] Response generation completed
2025-07-06 12:11:40,410 - agent.agent - INFO - [agent.py:549] - [Multi-Agent System] Processing completed successfully
2025-07-06 12:11:40,410 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 12:19:25,656 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 12:19:25,656 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 12:19:25,656 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 12:19:25,657 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 12:19:25,657 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 12:19:25,658 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 12:19:25,658 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 12:19:25,658 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 12:19:25,704 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 12:19:25,727 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 12:19:25,727 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response agent created successfully
2025-07-06 12:19:25,728 - agent.agent - INFO - [agent.py:441] - [Multi-Agent System] All agents created successfully
2025-07-06 12:19:25,728 - agent.agent - INFO - [agent.py:455] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 12:19:25,728 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 12:19:25,728 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 12:19:25,729 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 12:19:25,729 - agent.agent - INFO - [agent.py:461] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 12:19:25,729 - agent.agent - INFO - [agent.py:466] - [Multi-Agent System] Processing user input: I need wireless mouse
2025-07-06 12:19:25,729 - agent.agent - INFO - [agent.py:469] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 12:19:25,729 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 12:19:25,729 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 12:19:32,344 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 12:19:38,818 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is inquiring about a specific product, a 'wireless mouse', which aligns with the 'product_info' intent. There is no mention of ordering, tracking, user management, or a general inquiry, making 'product_info' the most likely intent with high confidence."
}
```
2025-07-06 12:19:38,818 - agent.agent - INFO - [agent.py:480] - [Multi-Agent System] Detected intent: product_info
2025-07-06 12:19:38,819 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Step 3: Executing function
2025-07-06 12:19:43,303 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 12:19:43,303 - agent.agent - WARNING - [agent.py:531] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 12:19:43,303 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Step 4: Logging query
2025-07-06 12:19:43,305 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Query logged successfully
2025-07-06 12:19:43,306 - agent.agent - INFO - [agent.py:542] - [Multi-Agent System] Step 5: Generating response
2025-07-06 12:19:43,306 - agent.agent - INFO - [agent.py:379] - [Response Agent] Processing response for seller_id: 1
2025-07-06 12:19:43,306 - agent.agent - INFO - [agent.py:384] - [Response Agent] Step 1: Determining response strategy
2025-07-06 12:19:49,523 - agent.agent - INFO - [agent.py:398] - [Response Agent] Step 2: Generating response
2025-07-06 12:19:59,984 - agent.agent - INFO - [agent.py:418] - [Response Agent] Response generation completed
2025-07-06 12:19:59,985 - agent.agent - INFO - [agent.py:549] - [Multi-Agent System] Processing completed successfully
2025-07-06 12:19:59,985 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 15:42:45,408 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 15:42:45,409 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 15:42:45,409 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 15:42:45,409 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 15:42:45,410 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 15:42:45,410 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 15:42:45,410 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 15:42:45,410 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 15:42:45,527 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 15:42:45,549 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 15:42:45,550 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response agent created successfully
2025-07-06 15:42:45,550 - agent.agent - INFO - [agent.py:441] - [Multi-Agent System] All agents created successfully
2025-07-06 15:42:45,550 - agent.agent - INFO - [agent.py:455] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 15:42:45,551 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 15:42:45,551 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 15:42:45,551 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 15:42:45,551 - agent.agent - INFO - [agent.py:461] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 15:42:45,551 - agent.agent - INFO - [agent.py:466] - [Multi-Agent System] Processing user input: I need to buy wireless mouse
2025-07-06 15:42:45,552 - agent.agent - INFO - [agent.py:469] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 15:42:45,552 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 15:42:45,552 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 15:42:52,189 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 15:42:56,983 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "place_order",
  "confidence": 0.9,
  "reasoning": "The user explicitly mentions the need to buy a wireless mouse, which directly indicates an intent to place an order for a product."
}
```
2025-07-06 15:42:56,984 - agent.agent - INFO - [agent.py:480] - [Multi-Agent System] Detected intent: place_order
2025-07-06 15:42:56,984 - agent.agent - INFO - [agent.py:484] - [Multi-Agent System] Step 2: Managing user for place_order intent
2025-07-06 15:43:08,331 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 15:43:08,332 - agent.agent - ERROR - [agent.py:497] - [Multi-Agent System] Failed to parse user management result
2025-07-06 15:43:08,332 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Step 3: Executing function
2025-07-06 15:43:12,838 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 15:43:12,839 - agent.agent - WARNING - [agent.py:531] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 15:43:12,839 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Step 4: Logging query
2025-07-06 15:43:12,842 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Query logged successfully
2025-07-06 15:43:12,842 - agent.agent - INFO - [agent.py:542] - [Multi-Agent System] Step 5: Generating response
2025-07-06 15:43:12,842 - agent.agent - INFO - [agent.py:379] - [Response Agent] Processing response for seller_id: 1
2025-07-06 15:43:12,842 - agent.agent - INFO - [agent.py:384] - [Response Agent] Step 1: Determining response strategy
2025-07-06 15:43:20,375 - agent.agent - INFO - [agent.py:398] - [Response Agent] Step 2: Generating response
2025-07-06 15:43:29,661 - agent.agent - INFO - [agent.py:418] - [Response Agent] Response generation completed
2025-07-06 15:43:29,661 - agent.agent - INFO - [agent.py:549] - [Multi-Agent System] Processing completed successfully
2025-07-06 15:43:29,662 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 15:46:34,081 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 15:46:34,095 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 15:46:34,115 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 15:46:34,121 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 15:47:47,229 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 15:47:47,250 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 15:47:47,269 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 15:47:47,279 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 15:47:48,792 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 15:47:48,792 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 15:47:48,792 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 15:47:48,792 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 15:47:48,793 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 15:47:48,793 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 15:47:48,793 - agent.agent - INFO - [agent.py:433] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 15:47:48,793 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 15:47:48,845 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 15:47:48,874 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 15:47:48,875 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response agent created successfully
2025-07-06 15:47:48,875 - agent.agent - INFO - [agent.py:441] - [Multi-Agent System] All agents created successfully
2025-07-06 15:47:48,876 - agent.agent - INFO - [agent.py:455] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 15:47:48,876 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 15:47:48,876 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 15:47:48,877 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 15:47:48,877 - agent.agent - INFO - [agent.py:461] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 15:47:48,877 - agent.agent - INFO - [agent.py:466] - [Multi-Agent System] Processing user input: I need to buy wireless mouse
2025-07-06 15:47:48,878 - agent.agent - INFO - [agent.py:469] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 15:47:48,878 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 15:47:48,878 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 15:47:54,386 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 15:48:01,864 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "place_order",
  "confidence": 0.9,
  "reasoning": "The user explicitly mentions the need to buy a product ('wireless mouse'), which directly aligns with the 'place_order' intent. The context and entities support this classification as the user's goal is clearly to purchase a specific product."
}
```
2025-07-06 15:48:01,865 - agent.agent - INFO - [agent.py:480] - [Multi-Agent System] Detected intent: place_order
2025-07-06 15:48:01,865 - agent.agent - INFO - [agent.py:484] - [Multi-Agent System] Step 2: Managing user for place_order intent
2025-07-06 15:48:13,924 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 15:48:13,924 - agent.agent - ERROR - [agent.py:497] - [Multi-Agent System] Failed to parse user management result
2025-07-06 15:48:13,924 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Step 3: Executing function
2025-07-06 15:48:20,151 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 15:48:20,151 - agent.agent - WARNING - [agent.py:531] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 15:48:20,152 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Step 4: Logging query
2025-07-06 15:48:20,206 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Query logged successfully
2025-07-06 15:48:20,206 - agent.agent - INFO - [agent.py:542] - [Multi-Agent System] Step 5: Generating response
2025-07-06 15:48:20,206 - agent.agent - INFO - [agent.py:379] - [Response Agent] Processing response for seller_id: 1
2025-07-06 15:48:20,207 - agent.agent - INFO - [agent.py:384] - [Response Agent] Step 1: Determining response strategy
2025-07-06 15:48:26,506 - agent.agent - INFO - [agent.py:398] - [Response Agent] Step 2: Generating response
2025-07-06 15:48:33,051 - agent.agent - INFO - [agent.py:418] - [Response Agent] Response generation completed
2025-07-06 15:48:33,051 - agent.agent - INFO - [agent.py:549] - [Multi-Agent System] Processing completed successfully
2025-07-06 15:48:33,051 - agent.agent - INFO - [agent.py:550] - [Multi-Agent System] Final response: Certainly! I'd be happy to help you find the perfect wireless mouse. To narrow down the options, could you let me know:  

- What brand of wireless mouse are you interested in?  
- Do you have a specific model in mind?  
- What is your budget for the wireless mouse?  

This will help me provide the best recommendations for you. Let me know, and Ill assist further!
2025-07-06 15:48:33,052 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 15:49:31,602 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 15:49:31,616 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 15:49:31,634 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 15:49:31,642 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 15:50:57,611 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 15:50:57,624 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 15:50:57,643 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 15:50:57,650 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 15:51:08,970 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 15:51:08,985 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 15:51:09,005 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 15:51:09,012 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 15:51:26,249 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 15:51:26,264 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 15:51:26,282 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 15:51:26,289 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 15:51:33,622 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 15:51:33,622 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 15:51:33,623 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 15:51:33,623 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 15:51:33,623 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 15:51:33,623 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 15:51:33,623 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 15:51:33,625 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 15:51:33,671 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 15:51:33,696 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 15:51:33,697 - agent.agent - INFO - [agent.py:447] - [Response Agent] Response agent created successfully
2025-07-06 15:51:33,697 - agent.agent - INFO - [agent.py:462] - [Multi-Agent System] All agents created successfully
2025-07-06 15:51:33,697 - agent.agent - INFO - [agent.py:476] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 15:51:33,698 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 15:51:33,698 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 15:51:33,698 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 15:51:33,698 - agent.agent - INFO - [agent.py:482] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 15:51:33,698 - agent.agent - INFO - [agent.py:487] - [Multi-Agent System] Processing user input: I need to buy wireless mouse
2025-07-06 15:51:33,698 - agent.agent - INFO - [agent.py:490] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 15:51:33,699 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 15:51:33,699 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 15:51:39,060 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 15:51:46,083 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "place_order",
  "confidence": 0.9,
  "reasoning": "The user explicitly mentions the need to 'buy' a 'wireless mouse', which directly indicates an intention to make a purchase. This aligns with the 'place_order' intent, as the user is looking to acquire a product rather than seeking information, tracking an order, managing user details, or making a general inquiry."
}
```
2025-07-06 15:51:46,084 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Detected intent: place_order
2025-07-06 15:51:46,084 - agent.agent - INFO - [agent.py:505] - [Multi-Agent System] Step 2: Managing user for place_order intent
2025-07-06 15:52:01,796 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 15:52:01,796 - agent.agent - ERROR - [agent.py:518] - [Multi-Agent System] Failed to parse user management result
2025-07-06 15:52:01,796 - agent.agent - INFO - [agent.py:522] - [Multi-Agent System] Step 3: Executing function
2025-07-06 15:52:05,854 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 15:52:05,855 - agent.agent - WARNING - [agent.py:552] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 15:52:05,855 - agent.agent - INFO - [agent.py:555] - [Multi-Agent System] Step 4: Logging query
2025-07-06 15:52:05,909 - agent.agent - INFO - [agent.py:558] - [Multi-Agent System] Query logged successfully
2025-07-06 15:52:05,910 - agent.agent - INFO - [agent.py:563] - [Multi-Agent System] Step 5: Generating response
2025-07-06 15:52:05,910 - agent.agent - INFO - [agent.py:381] - [Response Agent] Processing response for seller_id: 1
2025-07-06 15:52:05,911 - agent.agent - INFO - [agent.py:386] - [Response Agent] Step 1: Determining response strategy
2025-07-06 15:52:13,739 - agent.agent - INFO - [agent.py:400] - [Response Agent] Step 2: Generating response
2025-07-06 15:52:20,190 - agent.agent - INFO - [agent.py:420] - [Response Agent] Response generation completed
2025-07-06 15:52:20,191 - agent.agent - INFO - [agent.py:570] - [Multi-Agent System] Processing completed successfully
2025-07-06 15:52:20,191 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 15:54:44,942 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 15:54:44,942 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 15:54:44,942 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 15:54:44,943 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 15:54:44,943 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 15:54:44,943 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 15:54:44,943 - agent.agent - INFO - [agent.py:454] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 15:54:44,943 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 15:54:44,993 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 15:54:45,018 - agent.agent - INFO - [agent.py:316] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 15:54:45,018 - agent.agent - INFO - [agent.py:447] - [Response Agent] Response agent created successfully
2025-07-06 15:54:45,019 - agent.agent - INFO - [agent.py:462] - [Multi-Agent System] All agents created successfully
2025-07-06 15:54:45,019 - agent.agent - INFO - [agent.py:476] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 15:54:45,019 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 15:54:45,019 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 15:54:45,020 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 15:54:45,020 - agent.agent - INFO - [agent.py:482] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 15:54:45,020 - agent.agent - INFO - [agent.py:487] - [Multi-Agent System] Processing user input: what are the products do you have
2025-07-06 15:54:45,020 - agent.agent - INFO - [agent.py:490] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 15:54:45,020 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 15:54:45,021 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 15:54:50,967 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 15:54:57,783 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is asking about the list of products available, which directly relates to the 'product_info' intent. The context also supports this by mentioning an inquiry about products for a specific seller ID."
}
```
2025-07-06 15:54:57,784 - agent.agent - INFO - [agent.py:501] - [Multi-Agent System] Detected intent: product_info
2025-07-06 15:54:57,784 - agent.agent - INFO - [agent.py:522] - [Multi-Agent System] Step 3: Executing function
2025-07-06 15:55:02,494 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 15:55:02,494 - agent.agent - WARNING - [agent.py:552] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 15:55:02,494 - agent.agent - INFO - [agent.py:555] - [Multi-Agent System] Step 4: Logging query
2025-07-06 15:55:02,497 - agent.agent - INFO - [agent.py:558] - [Multi-Agent System] Query logged successfully
2025-07-06 15:55:02,497 - agent.agent - INFO - [agent.py:563] - [Multi-Agent System] Step 5: Generating response
2025-07-06 15:55:02,497 - agent.agent - INFO - [agent.py:381] - [Response Agent] Processing response for seller_id: 1
2025-07-06 15:55:02,497 - agent.agent - INFO - [agent.py:386] - [Response Agent] Step 1: Determining response strategy
2025-07-06 15:55:07,821 - agent.agent - INFO - [agent.py:400] - [Response Agent] Step 2: Generating response
2025-07-06 15:55:13,860 - agent.agent - INFO - [agent.py:420] - [Response Agent] Response generation completed
2025-07-06 15:55:13,860 - agent.agent - INFO - [agent.py:570] - [Multi-Agent System] Processing completed successfully
2025-07-06 15:55:13,861 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 16:22:39,822 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:22:39,838 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:22:39,858 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:22:39,865 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:22:58,610 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:22:58,625 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:22:58,643 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:22:58,650 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:23:37,803 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:23:37,823 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:23:37,845 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:23:37,852 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:26:26,236 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:26:26,251 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:26:26,269 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:26:26,277 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:26:45,068 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:26:45,082 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:26:45,101 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:26:45,108 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:27:33,415 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:27:33,429 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:27:33,447 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:27:33,455 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:32:32,410 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:32:32,425 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:32:32,445 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:32:32,452 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:32:44,583 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:32:44,599 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:32:44,618 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:32:44,625 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:32:49,585 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 16:32:49,585 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 16:32:49,585 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 16:32:49,585 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 16:32:49,586 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 16:32:49,586 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 16:32:49,587 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 16:32:49,587 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 16:32:49,632 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 16:32:49,632 - agent.agent - INFO - [agent.py:292] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 16:32:49,632 - agent.agent - INFO - [agent.py:318] - [User Management Agent] User management chain created successfully
2025-07-06 16:32:49,633 - agent.agent - INFO - [agent.py:322] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 16:32:49,633 - agent.agent - INFO - [agent.py:453] - [Response Agent] Response agent created successfully
2025-07-06 16:32:49,634 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] All agents created successfully
2025-07-06 16:32:49,634 - agent.agent - INFO - [agent.py:482] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 16:32:49,634 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 16:32:49,634 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 16:32:49,634 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 16:32:49,635 - agent.agent - INFO - [agent.py:488] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 16:32:49,635 - agent.agent - INFO - [agent.py:493] - [Multi-Agent System] Processing user input: hi
2025-07-06 16:32:49,635 - agent.agent - INFO - [agent.py:496] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 16:32:49,635 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 16:32:49,635 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 16:32:55,450 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 16:33:00,859 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user greeted the system without providing specific details about products, orders, or user information, which aligns with a general inquiry intent."
}
```
2025-07-06 16:33:00,859 - agent.agent - INFO - [agent.py:507] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 16:33:00,860 - agent.agent - INFO - [agent.py:528] - [Multi-Agent System] Step 3: Executing function
2025-07-06 16:33:06,352 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 16:33:06,352 - agent.agent - WARNING - [agent.py:558] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 16:33:06,352 - agent.agent - INFO - [agent.py:561] - [Multi-Agent System] Step 4: Logging query
2025-07-06 16:33:06,406 - agent.agent - INFO - [agent.py:564] - [Multi-Agent System] Query logged successfully
2025-07-06 16:33:06,406 - agent.agent - INFO - [agent.py:569] - [Multi-Agent System] Step 5: Generating response
2025-07-06 16:33:06,407 - agent.agent - INFO - [agent.py:387] - [Response Agent] Processing response for seller_id: 1
2025-07-06 16:33:06,407 - agent.agent - INFO - [agent.py:392] - [Response Agent] Step 1: Determining response strategy
2025-07-06 16:33:11,517 - agent.agent - INFO - [agent.py:406] - [Response Agent] Step 2: Generating response
2025-07-06 16:33:15,820 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response generation completed
2025-07-06 16:33:15,820 - agent.agent - INFO - [agent.py:576] - [Multi-Agent System] Processing completed successfully
2025-07-06 16:33:15,821 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 16:34:08,493 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:34:08,507 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:34:08,526 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:34:08,532 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:34:47,525 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:34:47,539 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:34:47,558 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:34:47,564 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:34:57,285 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 16:34:57,285 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 16:34:57,285 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 16:34:57,285 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 16:34:57,285 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 16:34:57,286 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 16:34:57,286 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 16:34:57,287 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 16:34:57,333 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 16:34:57,333 - agent.agent - INFO - [agent.py:292] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 16:34:57,334 - agent.agent - INFO - [agent.py:318] - [User Management Agent] User management chain created successfully
2025-07-06 16:34:57,334 - agent.agent - INFO - [agent.py:322] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 16:34:57,334 - agent.agent - INFO - [agent.py:453] - [Response Agent] Response agent created successfully
2025-07-06 16:34:57,334 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] All agents created successfully
2025-07-06 16:34:57,334 - agent.agent - INFO - [agent.py:482] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 16:34:57,334 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 16:34:57,335 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 16:34:57,335 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 16:34:57,335 - agent.agent - INFO - [agent.py:488] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 16:34:57,335 - agent.agent - INFO - [agent.py:493] - [Multi-Agent System] Processing user input: hi
2025-07-06 16:34:57,335 - agent.agent - INFO - [agent.py:496] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 16:34:57,335 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 16:34:57,336 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 16:35:02,680 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 16:35:08,508 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "general_inquiry",
  "confidence": 0.9,
  "reasoning": "The user's greeting 'hi' does not provide any specific information about products, orders, or user management, making it most likely a general inquiry or the start of a conversation."
}
```
2025-07-06 16:35:08,508 - agent.agent - INFO - [agent.py:507] - [Multi-Agent System] Detected intent: general_inquiry
2025-07-06 16:35:08,508 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Step 3: Executing function
2025-07-06 16:35:14,246 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 16:35:14,247 - agent.agent - WARNING - [agent.py:567] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 16:35:14,247 - agent.agent - INFO - [agent.py:570] - [Multi-Agent System] Step 4: Logging query
2025-07-06 16:35:14,299 - agent.agent - INFO - [agent.py:573] - [Multi-Agent System] Query logged successfully
2025-07-06 16:35:14,299 - agent.agent - INFO - [agent.py:578] - [Multi-Agent System] Step 5: Generating response
2025-07-06 16:35:14,300 - agent.agent - INFO - [agent.py:387] - [Response Agent] Processing response for seller_id: 1
2025-07-06 16:35:14,300 - agent.agent - INFO - [agent.py:392] - [Response Agent] Step 1: Determining response strategy
2025-07-06 16:35:19,629 - agent.agent - INFO - [agent.py:406] - [Response Agent] Step 2: Generating response
2025-07-06 16:35:24,918 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response generation completed
2025-07-06 16:35:24,919 - agent.agent - INFO - [agent.py:585] - [Multi-Agent System] Processing completed successfully
2025-07-06 16:35:24,919 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 16:38:19,902 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 16:38:19,902 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 16:38:19,902 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 16:38:19,902 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 16:38:19,903 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 16:38:19,903 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 16:38:19,903 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 16:38:19,903 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 16:38:19,953 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 16:38:19,954 - agent.agent - INFO - [agent.py:292] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 16:38:19,954 - agent.agent - INFO - [agent.py:318] - [User Management Agent] User management chain created successfully
2025-07-06 16:38:19,954 - agent.agent - INFO - [agent.py:322] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 16:38:19,955 - agent.agent - INFO - [agent.py:453] - [Response Agent] Response agent created successfully
2025-07-06 16:38:19,955 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] All agents created successfully
2025-07-06 16:38:19,955 - agent.agent - INFO - [agent.py:482] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 16:38:19,955 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 16:38:19,955 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 16:38:19,955 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 16:38:19,955 - agent.agent - INFO - [agent.py:488] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 16:38:19,955 - agent.agent - INFO - [agent.py:493] - [Multi-Agent System] Processing user input: I need wireless mouse
2025-07-06 16:38:19,956 - agent.agent - INFO - [agent.py:496] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 16:38:19,956 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 16:38:19,956 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 16:38:25,998 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 16:38:32,769 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is inquiring about a specific product, a 'wireless mouse', which suggests they are seeking information about the product rather than wanting to track an order, place an order, manage user details, or make a general inquiry."
}
```
2025-07-06 16:38:32,770 - agent.agent - INFO - [agent.py:507] - [Multi-Agent System] Detected intent: product_info
2025-07-06 16:38:32,770 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Step 3: Executing function
2025-07-06 16:38:37,000 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 16:38:37,000 - agent.agent - WARNING - [agent.py:567] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 16:38:37,001 - agent.agent - INFO - [agent.py:570] - [Multi-Agent System] Step 4: Logging query
2025-07-06 16:38:37,003 - agent.agent - INFO - [agent.py:573] - [Multi-Agent System] Query logged successfully
2025-07-06 16:38:37,003 - agent.agent - INFO - [agent.py:578] - [Multi-Agent System] Step 5: Generating response
2025-07-06 16:38:37,004 - agent.agent - INFO - [agent.py:387] - [Response Agent] Processing response for seller_id: 1
2025-07-06 16:38:37,004 - agent.agent - INFO - [agent.py:392] - [Response Agent] Step 1: Determining response strategy
2025-07-06 16:38:43,694 - agent.agent - INFO - [agent.py:406] - [Response Agent] Step 2: Generating response
2025-07-06 16:38:50,345 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response generation completed
2025-07-06 16:38:50,345 - agent.agent - INFO - [agent.py:585] - [Multi-Agent System] Processing completed successfully
2025-07-06 16:38:50,345 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 16:43:06,170 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:43:06,185 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:43:06,203 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:43:06,209 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 16:43:07,294 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 16:43:07,295 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 16:43:07,295 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 16:43:07,295 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 16:43:07,295 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 16:43:07,296 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 16:43:07,296 - agent.agent - INFO - [agent.py:460] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 16:43:07,296 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 16:43:07,341 - agent.agent - INFO - [agent.py:288] - function chain created successfully
2025-07-06 16:43:07,342 - agent.agent - INFO - [agent.py:292] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 16:43:07,342 - agent.agent - INFO - [agent.py:318] - [User Management Agent] User management chain created successfully
2025-07-06 16:43:07,343 - agent.agent - INFO - [agent.py:322] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 16:43:07,343 - agent.agent - INFO - [agent.py:453] - [Response Agent] Response agent created successfully
2025-07-06 16:43:07,343 - agent.agent - INFO - [agent.py:468] - [Multi-Agent System] All agents created successfully
2025-07-06 16:43:07,343 - agent.agent - INFO - [agent.py:482] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 16:43:07,344 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 16:43:07,344 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 16:43:07,344 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 16:43:07,344 - agent.agent - INFO - [agent.py:488] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 16:43:07,344 - agent.agent - INFO - [agent.py:493] - [Multi-Agent System] Processing user input: I need wireless mouse
2025-07-06 16:43:07,344 - agent.agent - INFO - [agent.py:496] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 16:43:07,344 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 16:43:07,345 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 16:43:13,537 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 16:43:20,751 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is inquiring about a specific product, a 'wireless mouse', which aligns with the 'product_info' intent. There is no indication of an order-related request or user management need, making 'product_info' the most likely intent."
}
```
2025-07-06 16:43:20,752 - agent.agent - INFO - [agent.py:507] - [Multi-Agent System] Detected intent: product_info
2025-07-06 16:43:20,752 - agent.agent - INFO - [agent.py:537] - [Multi-Agent System] Step 3: Executing function
2025-07-06 16:43:28,355 - agent.agent - INFO - [agent.py:539] - [Multi-Agent System] Function agent result: 
2025-07-06 16:43:28,355 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 16:43:28,356 - agent.agent - WARNING - [agent.py:567] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 16:43:28,356 - agent.agent - INFO - [agent.py:570] - [Multi-Agent System] Step 4: Logging query
2025-07-06 16:43:28,409 - agent.agent - INFO - [agent.py:573] - [Multi-Agent System] Query logged successfully
2025-07-06 16:43:28,410 - agent.agent - INFO - [agent.py:578] - [Multi-Agent System] Step 5: Generating response
2025-07-06 16:43:28,410 - agent.agent - INFO - [agent.py:387] - [Response Agent] Processing response for seller_id: 1
2025-07-06 16:43:28,410 - agent.agent - INFO - [agent.py:392] - [Response Agent] Step 1: Determining response strategy
2025-07-06 16:43:35,019 - agent.agent - INFO - [agent.py:406] - [Response Agent] Step 2: Generating response
2025-07-06 16:43:40,977 - agent.agent - INFO - [agent.py:426] - [Response Agent] Response generation completed
2025-07-06 16:43:40,978 - agent.agent - INFO - [agent.py:585] - [Multi-Agent System] Processing completed successfully
2025-07-06 16:43:40,978 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 16:52:02,321 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 16:52:02,333 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 16:52:02,353 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 16:52:02,360 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:00:08,536 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:00:08,551 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:00:08,570 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:00:08,577 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:00:21,947 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:00:21,962 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:00:21,982 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:00:21,988 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:00:48,895 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:00:48,910 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:00:48,930 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:00:48,936 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:03:23,682 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:03:23,696 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:03:23,714 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:03:23,721 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:03:24,096 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 17:03:24,096 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 17:03:24,097 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 17:03:24,097 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 17:03:24,097 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 17:03:24,097 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 17:03:24,098 - agent.agent - INFO - [agent.py:487] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 17:03:24,098 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 17:03:24,099 - agent.agent - INFO - [agent.py:266] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 17:03:24,143 - agent.agent - INFO - [agent.py:315] - [Function Agent] Function agent created successfully
2025-07-06 17:03:24,144 - agent.agent - INFO - [agent.py:319] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 17:03:24,144 - agent.agent - INFO - [agent.py:345] - [User Management Agent] User management chain created successfully
2025-07-06 17:03:24,144 - agent.agent - INFO - [agent.py:349] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 17:03:24,145 - agent.agent - INFO - [agent.py:480] - [Response Agent] Response agent created successfully
2025-07-06 17:03:24,145 - agent.agent - INFO - [agent.py:495] - [Multi-Agent System] All agents created successfully
2025-07-06 17:03:24,146 - agent.agent - INFO - [agent.py:509] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 17:03:24,146 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 17:03:24,146 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 17:03:24,147 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 17:03:24,147 - agent.agent - INFO - [agent.py:515] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 17:03:24,147 - agent.agent - INFO - [agent.py:520] - [Multi-Agent System] Processing user input: I need wireless mouse
2025-07-06 17:03:24,148 - agent.agent - INFO - [agent.py:523] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 17:03:24,148 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 17:03:24,148 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 17:03:30,293 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 17:03:37,484 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is inquiring about a specific product, a 'wireless mouse', which directly relates to seeking information about a product. There is no indication of wanting to place an order, track an order, manage user information, or make a general inquiry."
}
```
2025-07-06 17:03:37,485 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Detected intent: product_info
2025-07-06 17:03:37,485 - agent.agent - INFO - [agent.py:564] - [Multi-Agent System] Step 3: Executing function
2025-07-06 17:03:37,485 - agent.agent - INFO - [agent.py:298] - [Function Agent] Invoking function chain with input: {'input': 'I need wireless mouse', 'intent': 'product_info'}
2025-07-06 17:03:42,063 - agent.agent - INFO - [agent.py:308] - [Function Agent] Chain invocation successful
2025-07-06 17:03:42,063 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 17:03:42,063 - agent.agent - WARNING - [agent.py:594] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 17:03:42,063 - agent.agent - INFO - [agent.py:597] - [Multi-Agent System] Step 4: Logging query
2025-07-06 17:03:42,228 - agent.agent - INFO - [agent.py:600] - [Multi-Agent System] Query logged successfully
2025-07-06 17:03:42,228 - agent.agent - INFO - [agent.py:605] - [Multi-Agent System] Step 5: Generating response
2025-07-06 17:03:42,228 - agent.agent - INFO - [agent.py:414] - [Response Agent] Processing response for seller_id: 1
2025-07-06 17:03:42,229 - agent.agent - INFO - [agent.py:419] - [Response Agent] Step 1: Determining response strategy
2025-07-06 17:03:49,844 - agent.agent - INFO - [agent.py:433] - [Response Agent] Step 2: Generating response
2025-07-06 17:03:55,444 - agent.agent - INFO - [agent.py:453] - [Response Agent] Response generation completed
2025-07-06 17:03:55,446 - agent.agent - INFO - [agent.py:612] - [Multi-Agent System] Processing completed successfully
2025-07-06 17:03:55,446 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 17:04:38,135 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:04:38,150 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:04:38,174 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:04:38,181 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:04:39,643 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 17:04:39,644 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 17:04:39,644 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 17:04:39,644 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 17:04:39,644 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 17:04:39,645 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 17:04:39,645 - agent.agent - INFO - [agent.py:487] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 17:04:39,645 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 17:04:39,646 - agent.agent - INFO - [agent.py:266] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 17:04:39,695 - agent.agent - INFO - [agent.py:315] - [Function Agent] Function agent created successfully
2025-07-06 17:04:39,696 - agent.agent - INFO - [agent.py:319] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 17:04:39,696 - agent.agent - INFO - [agent.py:345] - [User Management Agent] User management chain created successfully
2025-07-06 17:04:39,696 - agent.agent - INFO - [agent.py:349] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 17:04:39,697 - agent.agent - INFO - [agent.py:480] - [Response Agent] Response agent created successfully
2025-07-06 17:04:39,697 - agent.agent - INFO - [agent.py:495] - [Multi-Agent System] All agents created successfully
2025-07-06 17:04:39,697 - agent.agent - INFO - [agent.py:509] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 17:04:39,697 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 17:04:39,697 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 17:04:39,698 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 17:04:39,698 - agent.agent - INFO - [agent.py:515] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 17:04:39,698 - agent.agent - INFO - [agent.py:520] - [Multi-Agent System] Processing user input: I need wireless mouse
2025-07-06 17:04:39,698 - agent.agent - INFO - [agent.py:523] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 17:04:39,698 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 17:04:39,698 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 17:04:45,195 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 17:04:51,988 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is inquiring about a specific product, a 'wireless mouse', which aligns with the 'product_info' intent. There is no indication of wanting to place an order, track an order, manage user information, or make a general inquiry."
}
```
2025-07-06 17:04:51,989 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Detected intent: product_info
2025-07-06 17:04:51,989 - agent.agent - INFO - [agent.py:564] - [Multi-Agent System] Step 3: Executing function
2025-07-06 17:04:51,989 - agent.agent - INFO - [agent.py:298] - [Function Agent] Invoking function chain with input: {'input': 'I need wireless mouse', 'intent': 'product_info'}
2025-07-06 17:04:59,192 - agent.agent - INFO - [agent.py:308] - [Function Agent] Chain invocation successful
2025-07-06 17:04:59,192 - agent.agent - INFO - [agent.py:566] - [Multi-Agent System] Function agent result: 
2025-07-06 17:04:59,192 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 17:04:59,193 - agent.agent - WARNING - [agent.py:594] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 17:04:59,193 - agent.agent - INFO - [agent.py:597] - [Multi-Agent System] Step 4: Logging query
2025-07-06 17:04:59,246 - agent.agent - INFO - [agent.py:600] - [Multi-Agent System] Query logged successfully
2025-07-06 17:04:59,246 - agent.agent - INFO - [agent.py:605] - [Multi-Agent System] Step 5: Generating response
2025-07-06 17:04:59,246 - agent.agent - INFO - [agent.py:414] - [Response Agent] Processing response for seller_id: 1
2025-07-06 17:04:59,246 - agent.agent - INFO - [agent.py:419] - [Response Agent] Step 1: Determining response strategy
2025-07-06 17:05:06,438 - agent.agent - INFO - [agent.py:433] - [Response Agent] Step 2: Generating response
2025-07-06 17:05:13,153 - agent.agent - INFO - [agent.py:453] - [Response Agent] Response generation completed
2025-07-06 17:05:13,154 - agent.agent - INFO - [agent.py:612] - [Multi-Agent System] Processing completed successfully
2025-07-06 17:05:13,155 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 17:05:42,039 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:05:42,053 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:05:42,074 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:05:42,083 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:05:42,472 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 17:05:42,472 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 17:05:42,472 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 17:05:42,473 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 17:05:42,473 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 17:05:42,473 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 17:05:42,474 - agent.agent - INFO - [agent.py:487] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 17:05:42,475 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 17:05:42,475 - agent.agent - INFO - [agent.py:266] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 17:05:42,528 - agent.agent - INFO - [agent.py:315] - [Function Agent] Function agent created successfully
2025-07-06 17:05:42,528 - agent.agent - INFO - [agent.py:319] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 17:05:42,529 - agent.agent - INFO - [agent.py:345] - [User Management Agent] User management chain created successfully
2025-07-06 17:05:42,529 - agent.agent - INFO - [agent.py:349] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 17:05:42,529 - agent.agent - INFO - [agent.py:480] - [Response Agent] Response agent created successfully
2025-07-06 17:05:42,530 - agent.agent - INFO - [agent.py:495] - [Multi-Agent System] All agents created successfully
2025-07-06 17:05:42,530 - agent.agent - INFO - [agent.py:509] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 17:05:42,530 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 17:05:42,530 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 17:05:42,531 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 17:05:42,531 - agent.agent - INFO - [agent.py:515] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 17:05:42,531 - agent.agent - INFO - [agent.py:520] - [Multi-Agent System] Processing user input: I need wireless mouse
2025-07-06 17:05:42,532 - agent.agent - INFO - [agent.py:523] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 17:05:42,532 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 17:05:42,532 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 17:05:48,227 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 17:05:55,061 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user's mention of a specific product ('wireless mouse') without any reference to ordering, tracking, or user management suggests they are likely seeking information about the product. The context summary also supports this by indicating the user is inquiring about a wireless mouse."
}
```
2025-07-06 17:05:55,061 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Detected intent: product_info
2025-07-06 17:05:55,062 - agent.agent - INFO - [agent.py:564] - [Multi-Agent System] Step 3: Executing function
2025-07-06 17:05:55,062 - agent.agent - INFO - [agent.py:298] - [Function Agent] Invoking function chain with input: {'input': 'I need wireless mouse', 'intent': 'product_info'}
2025-07-06 17:05:59,335 - agent.agent - INFO - [agent.py:308] - [Function Agent] Chain invocation successful
2025-07-06 17:05:59,335 - agent.agent - INFO - [agent.py:566] - [Multi-Agent System] Function agent result: 
2025-07-06 17:05:59,335 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 17:05:59,335 - agent.agent - WARNING - [agent.py:594] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 17:05:59,336 - agent.agent - INFO - [agent.py:597] - [Multi-Agent System] Step 4: Logging query
2025-07-06 17:05:59,389 - agent.agent - INFO - [agent.py:600] - [Multi-Agent System] Query logged successfully
2025-07-06 17:05:59,390 - agent.agent - INFO - [agent.py:605] - [Multi-Agent System] Step 5: Generating response
2025-07-06 17:05:59,390 - agent.agent - INFO - [agent.py:414] - [Response Agent] Processing response for seller_id: 1
2025-07-06 17:05:59,390 - agent.agent - INFO - [agent.py:419] - [Response Agent] Step 1: Determining response strategy
2025-07-06 17:06:06,703 - agent.agent - INFO - [agent.py:433] - [Response Agent] Step 2: Generating response
2025-07-06 17:06:14,745 - agent.agent - INFO - [agent.py:453] - [Response Agent] Response generation completed
2025-07-06 17:06:14,745 - agent.agent - INFO - [agent.py:612] - [Multi-Agent System] Processing completed successfully
2025-07-06 17:06:14,745 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 17:06:50,012 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:06:50,030 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:06:50,049 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:06:50,057 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:06:58,729 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 17:06:58,729 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 17:06:58,730 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 17:06:58,730 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 17:06:58,730 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 17:06:58,731 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 17:06:58,731 - agent.agent - INFO - [agent.py:487] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 17:06:58,731 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 17:06:58,732 - agent.agent - INFO - [agent.py:266] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 17:06:58,781 - agent.agent - INFO - [agent.py:315] - [Function Agent] Function agent created successfully
2025-07-06 17:06:58,781 - agent.agent - INFO - [agent.py:319] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 17:06:58,781 - agent.agent - INFO - [agent.py:345] - [User Management Agent] User management chain created successfully
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:349] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:480] - [Response Agent] Response agent created successfully
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:495] - [Multi-Agent System] All agents created successfully
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:509] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 17:06:58,782 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 17:06:58,782 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 17:06:58,782 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:515] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:520] - [Multi-Agent System] Processing user input: I need wireless mouse
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:523] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 17:06:58,782 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 17:07:04,167 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 17:07:10,789 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is inquiring about a specific product, a 'wireless mouse', which aligns with the 'product_info' intent. There is no indication of an order-related request or user management needs, making 'product_info' the most likely intent."
}
```
2025-07-06 17:07:10,790 - agent.agent - INFO - [agent.py:534] - [Multi-Agent System] Detected intent: product_info
2025-07-06 17:07:10,790 - agent.agent - INFO - [agent.py:564] - [Multi-Agent System] Step 3: Executing function
2025-07-06 17:07:10,790 - agent.agent - INFO - [agent.py:298] - [Function Agent] Invoking function chain with input: {'input': 'I need wireless mouse', 'intent': 'product_info'}
2025-07-06 17:07:14,597 - agent.agent - INFO - [agent.py:308] - [Function Agent] Chain invocation successful
2025-07-06 17:07:14,597 - agent.agent - INFO - [agent.py:309] - [Function Agent] Chain result: 
2025-07-06 17:07:14,597 - agent.agent - INFO - [agent.py:566] - [Multi-Agent System] Function agent result: 
2025-07-06 17:07:14,598 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 17:07:14,598 - agent.agent - WARNING - [agent.py:594] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 17:07:14,598 - agent.agent - INFO - [agent.py:597] - [Multi-Agent System] Step 4: Logging query
2025-07-06 17:07:14,649 - agent.agent - INFO - [agent.py:600] - [Multi-Agent System] Query logged successfully
2025-07-06 17:07:14,650 - agent.agent - INFO - [agent.py:605] - [Multi-Agent System] Step 5: Generating response
2025-07-06 17:07:14,650 - agent.agent - INFO - [agent.py:414] - [Response Agent] Processing response for seller_id: 1
2025-07-06 17:07:14,650 - agent.agent - INFO - [agent.py:419] - [Response Agent] Step 1: Determining response strategy
2025-07-06 17:07:21,767 - agent.agent - INFO - [agent.py:433] - [Response Agent] Step 2: Generating response
2025-07-06 17:07:28,804 - agent.agent - INFO - [agent.py:453] - [Response Agent] Response generation completed
2025-07-06 17:07:28,804 - agent.agent - INFO - [agent.py:612] - [Multi-Agent System] Processing completed successfully
2025-07-06 17:07:28,804 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 17:16:44,309 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:16:44,339 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:16:44,371 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:16:44,380 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 17:16:44,731 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 17:16:44,732 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 17:16:44,732 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 17:16:44,732 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 17:16:44,732 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 17:16:44,733 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 17:16:44,733 - agent.agent - INFO - [agent.py:477] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 17:16:44,733 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 17:16:44,733 - agent.agent - INFO - [agent.py:266] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 17:16:44,780 - agent.agent - INFO - [agent.py:305] - [Function Agent] Function agent created successfully
2025-07-06 17:16:44,781 - agent.agent - INFO - [agent.py:309] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 17:16:44,781 - agent.agent - INFO - [agent.py:335] - [User Management Agent] User management chain created successfully
2025-07-06 17:16:44,781 - agent.agent - INFO - [agent.py:339] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 17:16:44,782 - agent.agent - INFO - [agent.py:470] - [Response Agent] Response agent created successfully
2025-07-06 17:16:44,782 - agent.agent - INFO - [agent.py:485] - [Multi-Agent System] All agents created successfully
2025-07-06 17:16:44,782 - agent.agent - INFO - [agent.py:499] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 17:16:44,782 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 17:16:44,782 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 17:16:44,783 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 17:16:44,783 - agent.agent - INFO - [agent.py:505] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 17:16:44,783 - agent.agent - INFO - [agent.py:510] - [Multi-Agent System] Processing user input: I need wireless mouse
2025-07-06 17:16:44,783 - agent.agent - INFO - [agent.py:513] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 17:16:44,783 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 17:16:44,783 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 17:16:50,950 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 17:16:57,751 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.9,
  "reasoning": "The user is inquiring about a specific product, 'wireless mouse', which aligns with the 'product_info' intent. There is no indication of an order-related request or user management, making 'product_info' the most likely intent."
}
```
2025-07-06 17:16:57,751 - agent.agent - INFO - [agent.py:524] - [Multi-Agent System] Detected intent: product_info
2025-07-06 17:16:57,752 - agent.agent - INFO - [agent.py:554] - [Multi-Agent System] Step 3: Executing function
2025-07-06 17:16:57,752 - agent.agent - INFO - [agent.py:288] - [Function Agent] Invoking function chain with input: {'input': 'I need wireless mouse', 'intent': 'product_info'}
2025-07-06 17:17:02,238 - agent.agent - INFO - [agent.py:298] - [Function Agent] Chain invocation successful
2025-07-06 17:17:02,239 - agent.agent - INFO - [agent.py:299] - [Function Agent] Chain result: 
2025-07-06 17:17:02,239 - agent.agent - INFO - [agent.py:556] - [Multi-Agent System] Function agent result: 
2025-07-06 17:17:02,239 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 17:17:02,239 - agent.agent - WARNING - [agent.py:584] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 17:17:02,239 - agent.agent - INFO - [agent.py:587] - [Multi-Agent System] Step 4: Logging query
2025-07-06 17:17:02,293 - agent.agent - INFO - [agent.py:590] - [Multi-Agent System] Query logged successfully
2025-07-06 17:17:02,294 - agent.agent - INFO - [agent.py:595] - [Multi-Agent System] Step 5: Generating response
2025-07-06 17:17:02,294 - agent.agent - INFO - [agent.py:404] - [Response Agent] Processing response for seller_id: 1
2025-07-06 17:17:02,294 - agent.agent - INFO - [agent.py:409] - [Response Agent] Step 1: Determining response strategy
2025-07-06 17:17:09,513 - agent.agent - INFO - [agent.py:423] - [Response Agent] Step 2: Generating response
2025-07-06 17:17:15,730 - agent.agent - INFO - [agent.py:443] - [Response Agent] Response generation completed
2025-07-06 17:17:15,730 - agent.agent - INFO - [agent.py:602] - [Multi-Agent System] Processing completed successfully
2025-07-06 17:17:15,730 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 17:18:01,598 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 17:18:01,599 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 17:18:01,599 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 17:18:01,599 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 17:18:01,599 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 17:18:01,599 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 17:18:01,600 - agent.agent - INFO - [agent.py:477] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 17:18:01,600 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 17:18:01,600 - agent.agent - INFO - [agent.py:266] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 17:18:01,648 - agent.agent - INFO - [agent.py:305] - [Function Agent] Function agent created successfully
2025-07-06 17:18:01,648 - agent.agent - INFO - [agent.py:309] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 17:18:01,649 - agent.agent - INFO - [agent.py:335] - [User Management Agent] User management chain created successfully
2025-07-06 17:18:01,649 - agent.agent - INFO - [agent.py:339] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 17:18:01,650 - agent.agent - INFO - [agent.py:470] - [Response Agent] Response agent created successfully
2025-07-06 17:18:01,650 - agent.agent - INFO - [agent.py:485] - [Multi-Agent System] All agents created successfully
2025-07-06 17:18:01,650 - agent.agent - INFO - [agent.py:499] - [Multi-Agent System] Function mapping created with 8 functions
2025-07-06 17:18:01,650 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 17:18:01,650 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 17:18:01,650 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 17:18:01,650 - agent.agent - INFO - [agent.py:505] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 17:18:01,651 - agent.agent - INFO - [agent.py:510] - [Multi-Agent System] Processing user input: need details about wireless mouse
2025-07-06 17:18:01,651 - agent.agent - INFO - [agent.py:513] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 17:18:01,651 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 17:18:01,651 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 17:18:07,624 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 17:18:13,776 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.95,
  "reasoning": "The user is specifically asking for details about a product (wireless mouse), which aligns directly with the 'product_info' intent. The context and entities clearly indicate a request for information rather than an order or user management related query."
}
```
2025-07-06 17:18:13,776 - agent.agent - INFO - [agent.py:524] - [Multi-Agent System] Detected intent: product_info
2025-07-06 17:18:13,777 - agent.agent - INFO - [agent.py:554] - [Multi-Agent System] Step 3: Executing function
2025-07-06 17:18:13,777 - agent.agent - INFO - [agent.py:288] - [Function Agent] Invoking function chain with input: {'input': 'need details about wireless mouse', 'intent': 'product_info'}
2025-07-06 17:18:28,079 - agent.agent - INFO - [agent.py:298] - [Function Agent] Chain invocation successful
2025-07-06 17:18:28,079 - agent.agent - INFO - [agent.py:299] - [Function Agent] Chain result: 
2025-07-06 17:18:28,079 - agent.agent - INFO - [agent.py:556] - [Multi-Agent System] Function agent result: 
2025-07-06 17:18:28,079 - agent.agent - ERROR - [agent.py:187] - [JSON Parser] Failed to parse JSON: Expecting value: line 1 column 1 (char 0)
2025-07-06 17:18:28,080 - agent.agent - WARNING - [agent.py:584] - [Multi-Agent System] Function not found or not specified: None
2025-07-06 17:18:28,080 - agent.agent - INFO - [agent.py:587] - [Multi-Agent System] Step 4: Logging query
2025-07-06 17:18:28,083 - agent.agent - INFO - [agent.py:590] - [Multi-Agent System] Query logged successfully
2025-07-06 17:18:28,083 - agent.agent - INFO - [agent.py:595] - [Multi-Agent System] Step 5: Generating response
2025-07-06 17:18:28,083 - agent.agent - INFO - [agent.py:404] - [Response Agent] Processing response for seller_id: 1
2025-07-06 17:18:28,083 - agent.agent - INFO - [agent.py:409] - [Response Agent] Step 1: Determining response strategy
2025-07-06 17:18:34,761 - agent.agent - INFO - [agent.py:423] - [Response Agent] Step 2: Generating response
2025-07-06 17:18:42,461 - agent.agent - INFO - [agent.py:443] - [Response Agent] Response generation completed
2025-07-06 17:18:42,461 - agent.agent - INFO - [agent.py:602] - [Multi-Agent System] Processing completed successfully
2025-07-06 17:18:42,461 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 17:23:12,834 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 17:23:12,849 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 17:23:12,870 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 17:23:12,878 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 23:36:17,351 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 23:36:17,367 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 23:36:17,387 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 23:36:17,394 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 23:38:31,823 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 23:38:31,839 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 23:38:32,090 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 23:38:32,097 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 23:40:28,305 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 23:40:28,319 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 23:40:28,337 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 23:40:28,344 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 23:42:21,439 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 23:42:21,462 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 23:42:21,485 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 23:42:21,497 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 23:50:37,660 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 23:50:37,675 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 23:50:37,694 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 23:50:37,701 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 23:50:38,763 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 23:50:38,763 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 23:50:38,763 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 23:50:38,764 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 23:50:38,764 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 23:50:38,764 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 23:50:38,764 - agent.agent - INFO - [agent.py:538] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 23:50:38,764 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 23:50:38,765 - agent.agent - INFO - [agent.py:266] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 23:50:38,813 - agent.agent - INFO - [agent.py:366] - [Function Agent] Function agent created successfully
2025-07-06 23:50:38,814 - agent.agent - INFO - [agent.py:370] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 23:50:38,814 - agent.agent - INFO - [agent.py:396] - [User Management Agent] User management chain created successfully
2025-07-06 23:50:38,814 - agent.agent - INFO - [agent.py:400] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 23:50:38,816 - agent.agent - INFO - [agent.py:531] - [Response Agent] Response agent created successfully
2025-07-06 23:50:38,816 - agent.agent - INFO - [agent.py:546] - [Multi-Agent System] All agents created successfully
2025-07-06 23:50:38,816 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 23:50:38,816 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 23:50:38,816 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 23:50:38,816 - agent.agent - INFO - [agent.py:552] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 23:50:38,816 - agent.agent - INFO - [agent.py:557] - [Multi-Agent System] Processing user input: need details about wireless mouse
2025-07-06 23:50:38,816 - agent.agent - INFO - [agent.py:560] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 23:50:38,816 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 23:50:38,816 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 23:50:45,445 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 23:50:52,104 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.95,
  "reasoning": "The user is specifically asking for details about a product (wireless mouse), which directly aligns with the 'product_info' intent. The context and extracted entities clearly indicate a request for product-related information."
}
```
2025-07-06 23:50:52,105 - agent.agent - INFO - [agent.py:571] - [Multi-Agent System] Detected intent: product_info
2025-07-06 23:50:52,105 - agent.agent - INFO - [agent.py:303] - [Function Agent] Invoking function chain with input: {'input': 'need details about wireless mouse', 'intent': 'product_info'}
2025-07-06 23:50:52,109 - agent.agent - ERROR - [agent.py:363] - [Function Agent] Error invoking function chain: 'Input to ChatPromptTemplate is missing variables {\'"function"\'}.  Expected: [\'"function"\', \'chat_history\', \'examples\', \'input\', \'intent\', \'seller_id\'] Received: [\'input\', \'intent\', \'seller_id\', \'examples\', \'chat_history\']\nNote: if you intended {"function"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{"function"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-07-06 23:50:52,109 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
2025-07-06 23:58:19,422 - utils.logger - INFO - [logger.py:59] - Global logging configured - Level: INFO, Debug Mode: False
2025-07-06 23:58:19,436 - faiss.loader - INFO - [loader.py:125] - Loading faiss with AVX2 support.
2025-07-06 23:58:19,455 - faiss.loader - INFO - [loader.py:127] - Successfully loaded faiss with AVX2 support.
2025-07-06 23:58:19,462 - faiss - INFO - [__init__.py:205] - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-07-06 23:58:21,806 - services.chat - INFO - [chat.py:23] - [Chat API] Received chat request - seller_id: 1, user_id: user1, session_id: session_12345
2025-07-06 23:58:21,806 - services.chat - INFO - [chat.py:29] - [Chat API] Validating seller_id
2025-07-06 23:58:21,806 - services.chat - INFO - [chat.py:36] - [Chat API] Validating user_id
2025-07-06 23:58:21,807 - services.chat - INFO - [chat.py:43] - [Chat API] Checking if user exists
2025-07-06 23:58:21,807 - services.chat - INFO - [chat.py:58] - [Chat API] Formatting chat history
2025-07-06 23:58:21,807 - services.chat - INFO - [chat.py:66] - [Chat API] Creating multi-agent system
2025-07-06 23:58:21,808 - agent.agent - INFO - [agent.py:538] - [Multi-Agent System] Creating multi-agent system for seller_id: 1, user_id: user1
2025-07-06 23:58:21,808 - agent.agent - INFO - [agent.py:196] - [Intent Agent] Creating intent agent for seller_id: 1
2025-07-06 23:58:21,808 - agent.agent - INFO - [agent.py:266] - [Function Agent] Creating function agent for seller_id: 1, user_id: user1
2025-07-06 23:58:21,851 - agent.agent - INFO - [agent.py:366] - [Function Agent] Function agent created successfully
2025-07-06 23:58:21,852 - agent.agent - INFO - [agent.py:370] - [User Management Agent] Creating user management chain for seller_id: 1, user_id: user1
2025-07-06 23:58:21,852 - agent.agent - INFO - [agent.py:396] - [User Management Agent] User management chain created successfully
2025-07-06 23:58:21,852 - agent.agent - INFO - [agent.py:400] - [Response Agent] Creating response agent for seller_id: 1
2025-07-06 23:58:21,853 - agent.agent - INFO - [agent.py:531] - [Response Agent] Response agent created successfully
2025-07-06 23:58:21,853 - agent.agent - INFO - [agent.py:555] - [Multi-Agent System] All agents created successfully
2025-07-06 23:58:21,853 - services.chat - INFO - [chat.py:68] - [Chat API] Agent system created successfully for seller_id: 1, user_id: user1
2025-07-06 23:58:21,853 - services.chat - INFO - [chat.py:71] - [Chat API] Getting process_input function from agent system
2025-07-06 23:58:21,854 - services.chat - INFO - [chat.py:75] - [Chat API] Processing user input through multi-agent system
2025-07-06 23:58:21,854 - agent.agent - INFO - [agent.py:561] - [Multi-Agent System] Starting processing for seller_id: 1, user_id: user1
2025-07-06 23:58:21,854 - agent.agent - INFO - [agent.py:566] - [Multi-Agent System] Processing user input: need details about wireless mouse
2025-07-06 23:58:21,854 - agent.agent - INFO - [agent.py:569] - [Multi-Agent System] Step 1: Detecting intent
2025-07-06 23:58:21,854 - agent.agent - INFO - [agent.py:231] - [Intent Agent] Processing input for seller_id: 1
2025-07-06 23:58:21,854 - agent.agent - INFO - [agent.py:236] - [Intent Agent] Step 1: Extracting entities
2025-07-06 23:58:28,067 - agent.agent - INFO - [agent.py:245] - [Intent Agent] Step 2: Classifying intent
2025-07-06 23:58:36,049 - agent.agent - INFO - [agent.py:256] - [Intent Agent] Intent classification completed: ```json
{
  "intent": "product_info",
  "confidence": 0.95,
  "reasoning": "The user is specifically asking for details about a product (wireless mouse), which aligns with the 'product_info' intent. The context and entities clearly indicate a focus on product-related information."
}
```
2025-07-06 23:58:36,050 - agent.agent - INFO - [agent.py:580] - [Multi-Agent System] Detected intent: product_info
2025-07-06 23:58:36,050 - agent.agent - INFO - [agent.py:303] - [Function Agent] Invoking function chain with input: {'input': 'need details about wireless mouse', 'intent': 'product_info'}
2025-07-06 23:58:43,364 - agent.agent - INFO - [agent.py:326] - [Function Agent] Chain result: ```json
{
  "function": "get_product_info",
  "parameters": {
    "__arg1": "wireless mouse"
  },
  "output": "Here are the details for the wireless mouse: Connectivity: Bluetooth/USB, Battery Life: 12 months, DPI: 1600, Design: Ergonomic."
}
```
2025-07-06 23:58:43,364 - agent.agent - ERROR - [agent.py:332] - [Function Agent] Failed to parse JSON result: Expecting value: line 1 column 1 (char 0)
2025-07-06 23:58:43,365 - services.chat - INFO - [chat.py:82] - [Chat API] Successfully processed user input
